/* color themes for dark and light modes, generated with Leonardo.
 * Light: 
 https://leonardocolor.io/theme.html?name=Light&config=%7B%22baseScale%22%3A%22Gray%22%2C%22colorScales%22%3A%5B%7B%22name%22%3A%22Gray%22%2C%22colorKeys%22%3A%5B%22%23000000%22%5D%2C%22colorspace%22%3A%22RGB%22%2C%22ratios%22%3A%5B%22-1.12%22%2C%221.45%22%2C%222.05%22%2C%223.02%22%2C%224.54%22%2C%227%22%2C%2210.86%22%5D%2C%22smooth%22%3Afalse%7D%2C%7B%22name%22%3A%22Purple%22%2C%22colorKeys%22%3A%5B%22%235e30eb%22%5D%2C%22colorspace%22%3A%22RGB%22%2C%22ratios%22%3A%5B%22-1.12%22%2C%221.45%22%2C%222.05%22%2C%223.02%22%2C%224.54%22%2C%227%22%2C%2210.86%22%5D%2C%22smooth%22%3Afalse%7D%2C%7B%22name%22%3A%22Red%22%2C%22colorKeys%22%3A%5B%22%23e32400%22%5D%2C%22colorspace%22%3A%22RGB%22%2C%22ratios%22%3A%5B%22-1.12%22%2C%221.45%22%2C%222.05%22%2C%223.02%22%2C%224.54%22%2C%227%22%2C%2210.86%22%5D%2C%22smooth%22%3Afalse%7D%5D%2C%22lightness%22%3A98%2C%22contrast%22%3A1%2C%22saturation%22%3A100%2C%22formula%22%3A%22wcag2%22%7D
 */
:root {
    --background-color: #f8f8f8;
    --gray-50: #ffffff;
    --gray-100: #d0d0d0;
    --gray-200: #afafaf;
    --gray-300: #8f8f8f;
    --gray-400: #717171;
    --gray-500: #555555;
    --gray-600: #393939;
    --purple-100: #d5c9fa;
    --purple-200: #b8a3f6;
    --purple-300: #997cf2;
    --purple-400: #7a54ef;
    --purple-500: #582ddc;
    --purple-600: #3c1e95;
    --red-100: #f7c4ba;
    --red-200: #f29887;
    --red-300: #eb664d;
    --red-400: #de2300;
    --red-500: #a81b00;
    --red-600: #731200;
    --highlight-hover: rgb(0 0 0 / 0.07);
    --highlight-pressed: rgb(0 0 0 / 0.15);

    /* Dark: 
     https://leonardocolor.io/theme.html?name=Dark&config=%7B%22baseScale%22%3A%22Gray%22%2C%22colorScales%22%3A%5B%7B%22name%22%3A%22Gray%22%2C%22colorKeys%22%3A%5B%22%23000000%22%5D%2C%22colorspace%22%3A%22RGB%22%2C%22ratios%22%3A%5B%22-1.12%22%2C%221.45%22%2C%222.05%22%2C%223.02%22%2C%224.54%22%2C%227%22%2C%2210.86%22%5D%2C%22smooth%22%3Afalse%7D%2C%7B%22name%22%3A%22Purple%22%2C%22colorKeys%22%3A%5B%22%235e30eb%22%5D%2C%22colorspace%22%3A%22RGB%22%2C%22ratios%22%3A%5B%22-1.12%22%2C%221.45%22%2C%222.05%22%2C%223.02%22%2C%224.54%22%2C%227%22%2C%2210.86%22%5D%2C%22smooth%22%3Afalse%7D%2C%7B%22name%22%3A%22Red%22%2C%22colorKeys%22%3A%5B%22%23e32400%22%5D%2C%22colorspace%22%3A%22RGB%22%2C%22ratios%22%3A%5B%22-1.12%22%2C%221.45%22%2C%222.05%22%2C%223.02%22%2C%224.54%22%2C%227%22%2C%2210.86%22%5D%2C%22smooth%22%3Afalse%7D%5D%2C%22lightness%22%3A11%2C%22contrast%22%3A1%2C%22saturation%22%3A100%2C%22formula%22%3A%22wcag2%22%7D
     */
    @media (prefers-color-scheme: dark) {
        &:has(#color-scheme option[value="system"]:checked) {
            --background-color: #1d1d1d;
            --gray-50: #101010;
            --gray-100: #393939;
            --gray-200: #4f4f4f;
            --gray-300: #686868;
            --gray-400: #848484;
            --gray-500: #a7a7a7;
            --gray-600: #cfcfcf;
            --purple-100: #3c1e95;
            --purple-200: #522acd;
            --purple-300: #6f46ed;
            --purple-400: #8e6ef1;
            --purple-500: #b099f5;
            --purple-600: #d5c8fa;
            --red-100: #721200;
            --red-200: #9c1900;
            --red-300: #cc2000;
            --red-400: #e95034;
            --red-500: #f08c79;
            --red-600: #f7c3ba;
            --highlight-hover: rgb(255 255 255 / 0.1);
            --highlight-pressed: rgb(255 255 255 / 0.2);
        }
    }

    &:has(#color-scheme option[value="dark"]:checked) {
        --background-color: #1d1d1d;
        --gray-50: #101010;
        --gray-100: #393939;
        --gray-200: #4f4f4f;
        --gray-300: #686868;
        --gray-400: #848484;
        --gray-500: #a7a7a7;
        --gray-600: #cfcfcf;
        --purple-100: #3c1e95;
        --purple-200: #522acd;
        --purple-300: #6f46ed;
        --purple-400: #8e6ef1;
        --purple-500: #b099f5;
        --purple-600: #d5c8fa;
        --red-100: #721200;
        --red-200: #9c1900;
        --red-300: #cc2000;
        --red-400: #e95034;
        --red-500: #f08c79;
        --red-600: #f7c3ba;
        --highlight-hover: rgb(255 255 255 / 0.1);
        --highlight-pressed: rgb(255 255 255 / 0.2);
    }

}


/* Semantic colors */
:root {
    --focus-ring-color: var(--purple-400);
    --text-color: var(--gray-600);
    --text-color-base: var(--gray-500);
    --text-color-hover: var(--gray-600);
    --text-color-disabled: var(--gray-200);
    --text-color-placeholder: var(--gray-400);
    --link-color: var(--purple-500);
    --link-color-secondary: var(--gray-500);
    --link-color-pressed: var(--purple-600);
    --border-color: var(--gray-300);
    --border-color-hover: var(--gray-400);
    --border-color-pressed: var(--gray-400);
    --border-color-disabled: var(--gray-100);
    --field-background: var(--gray-50);
    --field-text-color: var(--gray-600);
    --overlay-background: var(--gray-50);
    --button-background: var(--gray-50);
    --button-background-pressed: var(--background-color);
    /* these colors are the same between light and dark themes to ensure contrast with the foreground color */
    --highlight-background: #6f46ed;
    /* purple-300 from dark theme, 3.03:1 against background-color */
    --highlight-background-pressed: #522acd;
    /* purple-200 from dark theme */
    --highlight-background-invalid: #cc2000;
    /* red-300 from dark theme */
    --highlight-foreground: white;
    /* 5.56:1 against highlight-background */
    --highlight-foreground-pressed: #ddd;
    --highlight-overlay: rgb(from #6f46ed r g b / 15%);
    --invalid-color: var(--red-400);
    --invalid-color-pressed: var(--red-500);
}

/* typography and spacing scale */
:root {
    --font-size: 1.875rem;
    /* 15px */
    --font-size-sm: 1.75rem;
    /* 13px */
    --font-size-lg: 2rem;
    /* 17px */
    --radius: 9px;
    --radius-sm: 7px;
    --radius-lg: 11px;
    --radius-xl: 17px;
    --spacing: 1.25rem;
    /* 5px */
    --spacing0: var(--spacing);
    --spacing-1: calc(2 * var(--spacing));
    --spacing-2: calc(3 * var(--spacing));
    --spacing-3: calc(4 * var(--spacing));
    --spacing-4: calc(5 * var(--spacing));
    --spacing-5: calc(6 * var(--spacing));
    --spacing-6: calc(7 * var(--spacing));
    --spacing-7: calc(8 * var(--spacing));
    --spacing-8: calc(9 * var(--spacing));
    --spacing-9: calc(10 * var(--spacing));
}

/* Scale up hit targets on high resolution mobile devices. */
@media (min-resolution: 201dpi) {
    :root {
        --spacing: calc(1.25rem * 1.25);
        --font-size: 2.0625rem;
        /* 18px */
        --font-size-sm: 1.9375rem;
        /* 16px */
        --font-size-lg: 2.25rem;
        /* 21px */
    }
}

/* Windows high contrast mode overrides */
@media (forced-colors: active) {
    :root {
        --background-color: Canvas;
        --focus-ring-color: Highlight;
        --text-color: ButtonText;
        --text-color-base: ButtonText;
        --text-color-hover: ButtonText;
        --text-color-disabled: GrayText;
        --text-color-placeholder: ButtonText;
        --link-color: LinkText;
        --link-color-secondary: LinkText;
        --link-color-pressed: LinkText;
        --border-color: ButtonBorder;
        --border-color-hover: ButtonBorder;
        --border-color-pressed: ButtonBorder;
        --border-color-disabled: GrayText;
        --field-background: Field;
        --field-text-color: FieldText;
        --overlay-background: Canvas;
        --button-background: ButtonFace;
        --button-background-pressed: ButtonFace;
        --highlight-background: Highlight;
        --highlight-background-pressed: Highlight;
        --highlight-background-invalid: LinkText;
        --highlight-foreground: HighlightText;
        --highlight-foreground-pressed: HighlightText;
        --invalid-color: LinkText;
        --invalid-color-pressed: LinkText;
    }
}

.react-aria-TagGroup {
    display: flex;
    flex-direction: column;
    gap: 2px;
    font-size: small;
    color: var(--text-color);
}

.react-aria-TagList {
    display: flex;
    flex-wrap: wrap;
    gap: 4px;
}

.react-aria-Tag {
    color: var(--text-color);
    border: 1px solid var(--border-color);
    forced-color-adjust: none;
    border-radius: 4px;
    /* padding: 2px 8px; */
    padding: 3px 8px 1px 8px;
    font-size: 12px;
    outline: none;
    cursor: default;
    display: flex;
    align-items: center;
    transition: border-color 200ms;

    &[data-hovered] {
        border-color: var(--border-color-hover);
    }

    &[data-focus-visible] {
        outline: 2px solid var(--focus-ring-color);
        outline-offset: 2px;
    }

    &[data-selected] {
        border-color: var(--highlight-background);
        background: var(--highlight-background);
        color: var(--highlight-foreground);
    }
}

.react-aria-Toolbar {
    width: fit-content;

    &[data-orientation=vertical] {
        flex-direction: column;
        align-items: start;
    }
}

.react-aria-Group {
    display: flex;
    gap: 2px;

    &[data-orientation=vertical] {
        flex-direction: column;
        align-items: start;
    }
}

.react-aria-Separator {
    &:not([aria-orientation=vertical]) {
        border: none;
        height: 1px;
        width: 100%;
        margin: 10px 0;
    }
}

.react-aria-Button {
    color: var(--text-color);
    background: var(--button-background);
    background-color: inherit;
    border: 1px solid var(--border-color);
    border-radius: 4px;
    appearance: none;
    vertical-align: middle;
    font-size: 16px;
    text-align: center;
    margin: 0;
    outline: none;
    /* padding is important for putting icon in box */
    padding: 8px 8px;
    text-decoration: none;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 4px;

    &[data-pressed] {
        box-shadow: inset 0 1px 2px rgb(0 0 0 / 0.1);
        background: var(--button-background-pressed);
        border-color: var(--border-color-pressed);
    }

    &[data-focus-visible] {
        outline: 2px solid var(--focus-ring-color);
        outline-offset: -1px;
    }
}

.react-aria-ToggleButton {
    color: var(--text-color);
    background: var(--button-background);
    background-color: inherit;
    border: 1px solid var(--border-color);
    border-radius: 4px;
    appearance: none;
    vertical-align: middle;
    font-size: 16px;
    text-align: center;
    margin: 0;
    outline: none;
    /* padding is important for putting icon in box */
    padding: 8px 8px;
    text-decoration: none;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 4px;

    &[data-pressed] {
        box-shadow: inset 0 1px 2px rgb(0 0 0 / 0.1);
        background: var(--button-background-pressed);
        border-color: var(--border-color-pressed);
    }

    &[data-focus-visible] {
        outline: 2px solid var(--focus-ring-color);
        outline-offset: -1px;
    }

    &[data-selected] {
        border-color: var(--highlight-background);
        background: var(--highlight-background);
        color: var(--highlight-foreground);
    }
}

.react-aria-ToggleButtonGroup {
    display: flex;
    gap: 2px;
    background-color: inherit;

    >button {
        border-radius: 4;
        z-index: 1;

        &[data-disabled] {
            z-index: 0;
        }

        &[data-selected],
        &[data-focus-visible] {
            z-index: 2;
        }
    }
}

.react-aria-ToggleButtonGroup[data-orientation=horizontal] {
    flex-direction: row;
    background-color: inherit;

    >button {
        margin-inline-start: -1px;

        &:first-child {
            border-radius: 4px 0 0 4px;
            margin-inline-start: 0;
        }

        &:last-child {
            border-radius: 0 4px 4px 0;
        }
    }
}

.react-aria-Tooltip {
    box-shadow: 0 8px 20px rgba(0 0 0 / 0.1);
    border-radius: 4px;
    background: var(--highlight-background);
    color: var(--highlight-foreground);
    forced-color-adjust: none;
    outline: none;
    padding: 2px 8px;
    max-width: 150px;
    /* fixes FF gap */
    transform: translate3d(0, 0, 0);
    transition: transform 200ms, opacity 200ms;
    transform-origin: var(--trigger-anchor-point);
    font-size: 12px;

    &[data-entering],
    &[data-exiting] {
        transform: scale(0.9) var(--origin);
        opacity: 0;
    }

    &[data-placement=top] {
        margin-bottom: 8px;
        --origin: translateY(4px);
    }

    &[data-placement=bottom] {
        margin-top: 8px;
        --origin: translateY(-4px);

        & .react-aria-OverlayArrow svg {
            transform: rotate(180deg);
        }
    }

    &[data-placement=right] {
        margin-left: 8px;
        --origin: translateX(-4px);

        & .react-aria-OverlayArrow svg {
            transform: rotate(90deg);
        }
    }

    &[data-placement=left] {
        margin-right: 8px;
        --origin: translateX(4px);

        & .react-aria-OverlayArrow svg {
            transform: rotate(-90deg);
        }
    }

    & .react-aria-OverlayArrow svg {
        display: block;
        fill: var(--highlight-background);
    }
}